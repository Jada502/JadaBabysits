// Updated Babysitting App with Accounts, Booking System, Calendar, and Punch Card
// Paste this entire file into your index.js or App.js

import { useState } from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";

export default function BabysittingApp() {
  const [page, setPage] = useState("home");

  // ACCOUNT SYSTEM (simple local login)
  const [user, setUser] = useState(null);
  const [accounts, setAccounts] = useState([]);

  const handleSignup = () => {
    const name = prompt("Parent name:");
    const password = prompt("Create password:");
    if (name && password) {
      setAccounts((prev) => [...prev, { name, password }]);
      alert("Account created!");
    }
  };

  const handleLogin = () => {
    const name = prompt("Name:");
    const password = prompt("Password:");
    const found = accounts.find(
      (acc) => acc.name === name && acc.password === password
    );
    if (found) {
      setUser(found);
      alert("Welcome back!");
    } else {
      alert("Account not found.");
    }
  };

  // BOOKING SYSTEM
  const [bookings, setBookings] = useState([]);

  const addBooking = () => {
    if (!user) return alert("Please log in first ğŸ’–");
    const date = prompt("Date (YYYY-MM-DD):");
    const time = prompt("Time:");
    if (date && time) {
      setBookings((prev) => [...prev, { parent: user.name, date, time }]);
      alert("Booking added!");
    }
  };

  // PUNCH CARD
  const punches = bookings.length;
  const punchesLeft = 10 - (punches % 10);

  // SIMPLE CALENDAR (autoâ€‘lists booked dates)
  const uniqueDates = [...new Set(bookings.map((b) => b.date))];

  return (\n      <div className="w-full flex justify-center mt-4">\n        <img src="/logo.png" alt="Logo" className="h-20" />\n      </div>
    <>
      {/* NAVIGATION */}
      <div className="w-full max-w-md flex justify-around p-3 bg-white shadow rounded-2xl mb-4 border-2 border-pink-300">
        <button onClick={() => setPage("home")} className="text-pink-600 font-bold">ğŸ  Home</button>
        <button onClick={() => setPage("bookings")} className="text-pink-600 font-bold">ğŸ“’ Bookings</button>
        <button onClick={() => setPage("calendar")} className="text-pink-600 font-bold">ğŸ“… Calendar</button>
        <button onClick={() => setPage("punch")} className="text-pink-600 font-bold">ğŸŸ Punch Card</button>
        <button onClick={() => setPage("account")} className="text-pink-600 font-bold">ğŸ‘¤ Account</button>
      </div>

      {/* HOME */}
      {page === "home" && (
        <div className="min-h-screen p-6 bg-pink-100 flex flex-col items-center gap-6">
          <h1 className="text-4xl font-bold text-pink-600">âœ¨ğŸ° Jada's Babysitting App ğŸ¦‹âœ¨</h1>

          <Card className="w-full max-w-md shadow-xl rounded-2xl border-2 border-pink-300 bg-white">
            <CardContent className="p-6 bg-pink-50 rounded-2xl">
              <h2 className="text-xl font-semibold text-pink-600">ğŸŒ¸ Welcome!</h2>
              <p className="text-pink-700">Log in to start booking babysitting days ğŸ’–</p>
            </CardContent>
          </Card>
        </div>
      )}

      {/* ACCOUNT PAGE */}
      {page === "account" && (
        <div className="min-h-screen p-6 bg-pink-100 flex flex-col items-center gap-6">
          <Card className="w-full max-w-md shadow-xl rounded-2xl border-2 border-pink-300 bg-white">
            <CardContent className="p-6 bg-pink-50 rounded-2xl flex flex-col gap-4">
              <h2 className="text-xl font-semibold text-pink-600">ğŸ‘¤ Account</h2>

              {user ? (
                <p className="text-pink-700">Logged in as <strong>{user.name}</strong></p>
              ) : (
                <p className="text-pink-700">Not logged in ğŸ’•</p>
              )}

              <Button onClick={handleSignup} className="bg-pink-400 text-white rounded-xl p-2">ğŸŒˆ Sign Up</Button>
              <Button onClick={handleLogin} className="bg-pink-400 text-white rounded-xl p-2">ğŸ’– Log In</Button>
            </CardContent>
          </Card>
        </div>
      )}

      {/* BOOKINGS */}
      {page === "bookings" && (
        <div className="min-h-screen p-6 bg-pink-100 flex flex-col items-center gap-6">
          <Card className="w-full max-w-md shadow-xl rounded-2xl border-2 border-pink-300 bg-white">
            <CardContent className="p-6 bg-pink-50 rounded-2xl">
              <h2 className="text-xl font-semibold text-pink-600">ğŸ“’ Bookings</h2>

              <Button onClick={addBooking} className="mt-3 bg-pink-400 text-white rounded-xl p-2">â• Add Booking</Button>

              {bookings.length === 0 ? (
                <p className="text-gray-500 mt-4">No bookings yet ğŸ’—</p>
              ) : (
                <ul className="space-y-3 mt-4">
                  {bookings.map((b, i) => (
                    <li key={i} className="p-3 bg-white rounded-xl shadow border border-pink-200">
                      <p className="text-pink-600 text-lg">ğŸŒ¸ Parent: {b.parent}</p>
                      <p className="text-pink-500">ğŸ“… {b.date}</p>
                      <p className="text-pink-500">â° {b.time}</p>
                    </li>
                  ))}
                </ul>
              )}
            </CardContent>
          </Card>
        </div>
      )}

      {/* CALENDAR */}
      {page === "calendar" && (
        <div className="min-h-screen p-6 bg-pink-100 flex flex-col items-center gap-6">
          <Card className="w-full max-w-md shadow-xl rounded-2xl border-2 border-pink-300 bg-white">
            <CardContent className="p-6 bg-pink-50 rounded-2xl">
              <h2 className="text-xl font-semibold text-pink-600">ğŸ“… Calendar</h2>

              {uniqueDates.length === 0 ? (
                <p className="text-gray-500">No dates booked yet ğŸ’–</p>
              ) : (
                <ul className="space-y-3 mt-4">
                  {uniqueDates.map((d, i) => (
                    <li key={i} className="p-3 bg-white rounded-xl shadow border border-pink-200 text-pink-600 font-semibold">
                      {d}
                    </li>
                  ))}
                </ul>
              )}
            </CardContent>
          </Card>
        </div>
      )}

      {/* PUNCH CARD */}
      {page === "punch" && (
        <div className="min-h-screen p-6 bg-pink-100 flex flex-col items-center gap-6">
          <Card className="w-full max-w-md shadow-xl rounded-2xl border-2 border-pink-300 bg-white">
            <CardContent className="p-6 bg-pink-50 rounded-2xl flex flex-col gap-4">
              <h2 className="text-xl font-semibold text-pink-600">ğŸŸ Punch Card</h2>

              <p className="text-pink-700">Bookings so far: <strong>{punches}</strong></p>
              <p className="text-pink-700">Punches until reward: <strong>{punchesLeft}</strong></p>

              <div className="grid grid-cols-5 gap-2 mt-4">
                {[...Array(10)].map((_, i) => (
                  <div
                    key={i}
                    className={`w-10 h-10 rounded-xl border-2 ${
                      i < punches % 10 ? "bg-pink-400 border-pink-500" : "bg-white border-pink-200"
                    }`}
                  ></div>
                ))}
              </div>
            </CardContent>
          </Card>
        </div>
      )}
    </>
  );
}
